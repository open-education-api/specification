type: object
description: |
  Planning and execution information on an attempt belong to a TestComponentOfferingAssociation. Result on the attempt
  is only relevant when a score or rawScore can be determined.
required:
  - attemptId
properties:
  attemptId:
    type: string
    description: Unique id of this attempt
    format: uuid
    example: 123e4567-e89b-12d3-a456-426614174000
  opportunity:
    type:
      - string
      - 'null'
    description: |
      The opportunity during which this attempt can be fulfilled. 
      Only relevant when only one attempt is allowed per association.
    example: "2025Semester1"
  attempt:
    type:
      - integer
      - 'null'
    description: |
      Which attempt this is for the given person on the given offering.
    format: int32
    example: 1
  state:
    oneOf:
      - $ref: ../enumerations/attemptState.yaml
      - type: 'null'
  startDateTime:
    type:
      - string
      - 'null'
    description: |
      Moment (date and time) of the start of the actual attempt. This can be the
      start date and time for an assessment where the association has no start or
      end date and time, but only has a relation with an academic session representing
      a term, trimester, semester or academic year.
    format: date-time
    example: "2025-09-01T09:00:00+01:00"
  endDateTime:
    type:
      - string
      - 'null'
    description: |
      Moment (date and time) of the end of the actual attempt. This can be the deadline 
      for handing in a document for an assignment or the end
      date and time for an test where the association has no start or
      end date and time, but only has a relation with an academic session representing
      a term, trimester, semester or academic year.
    format: date-time
    example: "2025-09-01T09:00:00+01:00"
  roomIds:
    description: |
      The identifiers of the rooms for this offering.
      When the client does not request expansion of `rooms`, only these identifiers are returned.
      This field is [`expandable`](https://openonderwijsapi.nl/v6.0/#/technical/expanding-responses).
    type:
      - array
      - 'null'
    items:
      $ref: './Identifier.yaml'
  rooms:
    description: |
      The expanded room objects for this offering. 
      When the client requests expansion of `rooms`, the full expanded room objects MUST be returned here instead of only the identifiers. 
      If no rooms are defined, this value is `null`.
    type:
      - array
      - 'null'
    items:
      type:
        - object
        - 'null'
      allOf:
        - $ref: './Room.yaml'
  attendance:
    oneOf:
      - $ref: '../enumerations/attendance.yaml'
      - type: 'null'
  irregularities:
    type:
      - string
      - 'null'
    description: |
      Additional information about external disturbances or (potentially) illegal actions by the student, 
      before, during or after the test.
    example: The student was late because there was a train delay
  coordinatorId:
    description: |
      The identifier of the coordinator responsible for overseeing the test.
      When the client does not request expansion of `coordinator`, only this identifier is returned.
      This field is [`expandable`](https://openonderwijsapi.nl/v6.0/#/technical/expanding-responses).
    $ref: './Identifier.yaml'
  coordinator:
    description: |
      The expanded person object representing the coordinator responsible for overseeing the test.
      When the client requests expansion of `coordinator`, the full person object MUST be returned here instead of only the identifier.
      If no coordinator is defined, this value is `null`.
    type:
      - object
      - 'null'
    allOf:
      - $ref: './Person.yaml'
  documents:
    type:
      - array
      - 'null'
    description: |
      Documents that are related to the test component offering association attempt. E.g. test completed, work handed in, etc.
    items:
      $ref: './Document.yaml'
  result:
    oneOf:
      - $ref: './Result.yaml'
      - type: 'null'
  consumer:
    oneOf:
      - $ref: './Consumer.yaml'
      - type: 'null'
