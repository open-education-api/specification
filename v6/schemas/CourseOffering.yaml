allOf:
  - $ref: './CourseOfferingId.yaml'
  - $ref: './OfferingProperties.yaml'
  - type: object
    description: |
      startDateTime and endDateTime of an offering are to be provided at least in the state `active`. In all other states the
      times on the academic session should indicate in what timeframe the offering will or should have been available.
    title: CourseOffering
    properties:
      startDateTime:
        type:
          - string
          - 'null'
        description: The moment on which this offering starts, RFC3339 (date-time)
        format: date-time
        example: "2019-08-21T08:30:00+01:00"
      endDateTime:
        type:
          - string
          - 'null'
        description: The moment on which this offering ends, RFC3339 (date-time)
        format: date-time
        example: "2019-10-23T22:59:59+01:00"
      flexibleEntry:
        type:
          - boolean
          - 'null'
        description: flexibleEntry determines whether the startDateTime and endDateTime are flexible (true) or fixed (false).
        example: true
      addresses:
        type:
          - array
          - 'null'
        description: Addresses for this offering
        items:
          $ref: './Address.yaml'
      priceInformation:
        type:
          - array
          - 'null'
        description: Price information for this offering.
        items:
          $ref: './Cost.yaml'
      course:
        description: |
          The course that is offered in this course offering. [`expandable`](https://openonderwijsapi.nl/#/technical/expanding-responses). When expanded, the full object MUST be returned. In this case a course.
          By default only the `courseId` (a string) is returned. If the client requested an expansion of `course` the full course object should be returned.
        oneOf:
          - $ref: './Identifier.yaml'
            title: courseId
          - $ref: './Course.yaml'
            title: Course object
          - type: 'null'
      programmeOfferings:
        description: |
          An array of 0 or more programmeOfferings that this course offering is related to. [`expandable`](https://openonderwijsapi.nl/#/technical/expanding-responses). When expanded, the full object MUST be returned. In this case a programme offering.
          By default only the `programmeOfferingId` (a string) is returned. If the client requested an expansion of `programmeOffering` the full programmeOffering object should be returned.
        type:
          - array
          - 'null'
        items:
          oneOf:
            - $ref: './Identifier.yaml'
              title: programmeOfferingId
            - $ref: './ProgrammeOffering.yaml'
              title: ProgrammeOffering object
      organisation:
        description: |
          The organisation that manages this course offering. [`expandable`](https://openonderwijsapi.nl/#/technical/expanding-responses). When expanded, the full object MUST be returned. In this case an organisation.
          By default only the `organisationId` (a string) is returned. If the client requested an expansion of `organisation` the full organisation object should be returned.
        oneOf:
          - $ref: './Identifier.yaml'
            title: organisationId
          - $ref: './Organisation.yaml'
            title: Organisation object
          - type: 'null'
